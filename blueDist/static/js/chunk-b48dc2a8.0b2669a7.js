(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b48dc2a8"],{"15b2":function(e,o,t){},"2c33":function(e,o,t){"use strict";t.r(o);var n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"userlogin-container"},[t("div",{staticClass:"center-box"},[t("div",{staticClass:"login-form"},[t("div",{staticClass:"form"},[t("div",{staticClass:"login-title"},[e._v(e._s(e.title))]),t("a-tabs",{attrs:{"default-active-key":"1"},on:{change:e.callback}},[t("a-tab-pane",{key:"1",attrs:{tab:"账号密码登录"}},[t("a-form-model",{ref:"ruleLogin",attrs:{layout:"horizontal",rules:e.rules,model:e.formInline},on:{submit:e.handleSubmit},nativeOn:{submit:function(e){e.preventDefault()}}},[t("a-form-model-item",{attrs:{prop:"user"}},[t("a-input",{attrs:{size:"small",placeholder:"账户：admin"},model:{value:e.formInline.user,callback:function(o){e.$set(e.formInline,"user",o)},expression:"formInline.user"}},[t("a-icon",{staticStyle:{color:"#40a9ff"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),t("a-form-model-item",{attrs:{prop:"password"}},[t("a-input",{attrs:{type:"password",size:"small",placeholder:"密码：******"},model:{value:e.formInline.password,callback:function(o){e.$set(e.formInline,"password",o)},expression:"formInline.password"}},[t("a-icon",{staticStyle:{color:"#40a9ff"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),t("a-form-model-item",{attrs:{prop:"code"}},[t("a-input",{staticClass:"code-1",attrs:{type:"text ",size:"small",placeholder:"验证码"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.login("ruleLogin")}},model:{value:e.formInline.code,callback:function(o){e.$set(e.formInline,"code",o)},expression:"formInline.code"}}),t("span",{staticClass:"code-image",on:{click:e.obtainCode}},[t("img",{ref:"image",attrs:{src:"http://localhost:9999/conviction/blue/code",alt:""}})])],1)],1)],1)],1),t("div",{staticClass:"check-box"},[t("a-checkbox",{on:{change:e.onChange}},[e._v(" 自动登录 ")]),t("a",{attrs:{href:""}},[e._v("忘记密码")])],1),t("div",{staticClass:"submit-login"},[t("a-button",{attrs:{type:"primary",size:"large",loading:e.iconLoading},on:{click:function(o){return e.login("ruleLogin")}}},[e._v(" 确定 ")])],1),t("div",{staticClass:"user-login"},[t("router-link",{attrs:{to:"/register"}},[e._v("注册用户")])],1)],1)])])])},a=[],i=t("1602"),s=t("83d6"),r=t.n(s),c={data:function(){var e=this,o=function(o,t,n){""===e.formInline.user&&(n(new Error("登录名为空")),e.$refs.formInline.validateField("checkPass")),n()},t=function(o,t,n){""===e.formInline.password&&(n(new Error("密码不得为空")),e.$refs.formInline.validateField("checkPass")),n()},n=function(o,t,n){""===e.formInline.code&&(n(new Error("验证码为空")),e.$refs.formInline.validateField("checkPass")),n()};return{iconLoading:!1,errorMsg:[],serviceCode:"",title:r.a.userLoginTitle,codeImage:"",formInline:{user:"",password:"",code:""},fromPhone:{numberPhone:"",code:""},rules:{user:[{required:!0,validator:o,trigger:"change"}],password:[{required:!0,validator:t,trigger:"change"}],code:[{required:!0,validator:n,trigger:"change"}]}}},mounted:function(){this.obtianCode()},methods:{obtainCode:function(){this.$refs.image.src="http://localhost:9999/conviction/blue/code?ts=".concat((new Date).getTime())},callback:function(e){console.log(e)},handleSubmit:function(e){console.log(e)},onChange:function(e){console.log("checked = ".concat(e.target.checked))},login:function(e){var o=this;this.iconLoading=!0,this.$refs[e].validate((function(e){e?Object(i["a"])({userName:o.formInline.user,password:o.formInline.password,code:o.formInline.code}).then((function(e){if(console.log(e),200===e.status){o.iconLoading=!o.iconLoading;var t={userName:e.data.userName,token:e.data.token,headPortrait:e.data.userImage,userStatus:e.data.userStatus,userDescribe:e.data.userDescribe};sessionStorage.setItem("userForm",JSON.stringify(t)),sessionStorage.setItem("token",e.data.token),Message.loading("正在登录中...",1).then((function(){o.$router.push("/"),Notification["success"]({message:"Welcome ".concat(e.data.userName),description:"Hey, my friend"})}))}else o.iconLoading=!o.iconLoading,console.log(e)})).catch((function(e){console.log(e),o.obtainCode(),o.iconLoading=!o.iconLoading})):o.iconLoading=!o.iconLoading}))},obtianCode:function(){}}},l=c,d=(t("e437"),t("ba51"),t("2877")),u=Object(d["a"])(l,n,a,!1,null,"160dda10",null);o["default"]=u.exports},"84b7":function(e,o,t){},ba51:function(e,o,t){"use strict";t("15b2")},e437:function(e,o,t){"use strict";t("84b7")}}]);